const spicedPg = require('spiced-pg');
const secrets = require('./secrets')
const db = spicedPg(`postgres:${secrets.dbUser}:${secrets.password}@localhost:5432/cities`);
function getCity(city, city2) {
  const q = `SELECT *
             FROM cities
             WHERE city = $1 OR city = $2`
             ;
  const params = [city, city2];
  db.query(q, params ).then(function(results){
    results.rows.forEach(function(row){
      console.log(results.id, row.city);
    }).catch(function(err) {
      console.log(err);
    })
  });
}
getCity("Berlin", "Munich");

PART2
function insertSignature(firstname, lastname, saveSignature) {
  const q = `INSERT INTO petition
  (firstName, lastName, signature)
  VALUES ($1, $2, $3) RETURNING id`;
  return  db.query(q, [firstname, lastname, saveSignature]).then(function(results) {
    return results.rows[0].id;
  });
}
if(req.cookies.signed){
  if(req.url != '/petition'){
  return res.redirect('/petition');
  }
}
app.use(cookieParser());
app.use(cookieSessions({
secret: 'a really hard to guess secret',
maxAGe: 1000 * 60 * 60
})'/user'
app.get('/user/:city')
req.params.city
